<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <base href="https://cdn.jsdelivr.net/gh/Stinkalistic/UGS@main/MISC/webecomewhatwebehold/">
    <link rel="stylesheet" href="css/game.css">
    <style>
        /* Force the game stage to fill the entire screen */
        html, body, #stage {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        canvas {
            width: 100vw !important;
            height: 100vh !important;
            object-fit: contain; /* Keeps the game aspect ratio correct */
        }

        /* Fullscreen button styling */
        #fs-btn {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 9999;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid white;
            border-radius: 4px;
            cursor: pointer;
            font-family: sans-serif;
            font-size: 12px;
            transition: 0.3s;
        }
        #fs-btn:hover { background: rgba(255, 255, 255, 0.4); }
    </style>
</head>
<body>
    <button id="fs-btn">FULLSCREEN</button>
    <div id="stage"></div>
    <div id="modal_shade"></div>
    
    <div class="overlay" id="warning">
        <div>oh noes</div>
        <div>your browser doesn't support webgl.</div>
    </div>
    
    <div class="overlay" id="paused">
        <div>paused</div>
        <div>click anywhere to resume</div>
    </div>

    <script src="js/lib/pixi.min.js"></script>
    <script src="js/lib/howler.js"></script>
    <script src="js/lib/stats.min.js"></script>
    <script>var createjs = window;</script>
    <script src="js/lib/tweenjs-0.6.2.min.js"></script>
    <script>Ticker.framerate=60; Ticker.paused=true;</script>
    <script src="js/lib/helpers.js"></script>

    <script src="js/core/Game.js"></script>
    <script src="js/core/SceneManager.js"></script>
    <script src="js/core/Scene.js"></script>

    <script src="js/game/World.js"></script>
    <script src="js/game/Camera.js"></script>
    <script src="js/game/Director.js"></script>
    <script src="js/game/Peep.js"></script>
    <script src="js/game/TV.js"></script>
    <script src="js/game/AnimationProp.js"></script>
    <script src="js/game/ScreenShake.js"></script>
    <script src="js/game/ScreenZoomOut.js"></script>
    <script src="js/game/Gore.js"></script>
    <script src="js/game/DeadBody.js"></script>
    <script src="js/game/Blood.js"></script>
    <script src="js/peeps/NormalPeep.js"></script>
    <script src="js/peeps/CrazyPeep.js"></script>
    <script src="js/peeps/NervousPeep.js"></script>
    <script src="js/peeps/SnobbyPeep.js"></script>
    <script src="js/peeps/AngryPeep.js"></script>
    <script src="js/peeps/HatPeep.js"></script>
    <script src="js/peeps/LoverPeep.js"></script>
    <script src="js/peeps/ProtestAnim.js"></script>
    <script src="js/peeps/HelpingAnim.js"></script>
    <script src="js/peeps/HappyWeirdoPeep.js"></script>
    <script src="js/peeps/EvilHatPeep.js"></script>
    <script src="js/peeps/PanicPeep.js"></script>
    <script src="js/peeps/MurderPeep.js"></script>
    <script src="js/misc/Candlelight.js"></script>
    <script src="js/misc/LoversWatching.js"></script>
    <script src="js/misc/Cricket.js"></script>
    <script src="js/misc/Cursor.js"></script>
    <script src="js/scenes/Scene_Preloader.js"></script>
    <script src="js/scenes/Scene_Quote.js"></script>
    <script src="js/scenes/Scene_Game.js"></script>
    <script src="js/scenes/Scene_Credits.js"></script>
    <script src="js/scenes/Scene_Post_Credits.js"></script>
    <script src="js/scenes/Scene_Post_Post_Credits.js"></script>
    <script src="js/scenes/Scene_EndPrototype.js"></script>
    <script src="js/scenes/Act_I.js"></script>
    <script src="js/scenes/Act_II.js"></script>
    <script src="js/scenes/Act_III.js"></script>
    <script src="js/scenes/Scene_Meta.js"></script>

    <script>
    Game.stats = false;
    window.onload = function(){
        try {
            Game.init();
        } catch(e) {
            document.getElementById("warning").style.display = "block";
        }
    };

    // Fullscreen Toggle Logic
    document.getElementById('fs-btn').addEventListener('click', function() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                alert(`Error: ${err.message}`);
            });
        } else {
            document.exitFullscreen();
        }
    });

    window.SHARE_TEXT = "I just played this really weird game about the news. WE BECOME WHAT WE BEHOLD:";
    window.SHARE_URL = "https://ncase.itch.io/wbwwb";
    </script>
</body>
</html>